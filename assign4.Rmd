---
title: "assign4"
output: html_notebook
---

For the regular expression exercises, try writing first using regular expressions directly, then try using rverbalexpressions. Provide the code for both. 

# Part 1
```{r}
library(tidyverse)
library(lubridate)
library(RVerbalExpressions)
```

## R4DS 16.4.5

Create a vector of dates giving the first day of every month in the current year. 
```{r}
floor_date(today(), unit = "year") + months(0:11)
```

Write a function that given your birthday (as a date), returns how old you are in years.
```{r}
age <- function(date) {
  age <- as.period(interval(date, today()), unit = "year")
  age$year
}
age(ymd("1997-06-29"))
```

Write a function that given your birthday, returns the day of the week you were born on. 
```{r}
age_day <- function(date) {
  age_day <- wday(date)
  age_day
}
age_day(ymd("1997-06-29"))
```

## R4DS 14.3.2.1

Given the corpus of common words in stringr::words, create regular expressions that find all words that have seven letters or more. (Since this list is long, you might want to use the match argument to str_view() to show only the matching or non-matching words.)
```{r}
words <- stringr::words
str_view(words, ".......", match = TRUE)
```

## R4DS 14.3.3.1

Use str_detect to find all words that:

That only contain consonants. (Hint: thinking about matching “not”-vowels.)
```{r}
str_view(words, "^[^aeiou]+$", match = TRUE)
```




Empirically verify the rule “i before e except after c”.
```{r}
str_view(words, "[^c]ie|cie", match = TRUE)
```

```{r}
iec <- rx() %>% 
  rx_start_of_line() %>% 
  rx_either_of("[^c]ie", "cie") %>% 
  print()
```


Create a regular expression that will match telephone numbers as commonly written in the US. Split this up into multiple expressions as needed.

```{r}
str_view(df, "^\\d{3}[-\\.]\\d{3}[-\\.]\\d{4}$", match = TRUE)
```


```{r}
telrx <- rx() %>% 
  rx_start_of_line() %>% 
  rx_digit() %>%  
  rx_repeat_previous(3) %>% 
  rx_any_of("-.") %>% 
  rx_digit() %>%  
  rx_repeat_previous(3) %>% 
  rx_any_of("-.") %>% 
  rx_digit() %>%  
  rx_repeat_previous(4) %>% 
  rx_end_of_line() %>% 
  print() %>% 
  grepl(c("217-377-2867", "217.377.2867", "EM7.377.2867")) %>% 
  print()
```
